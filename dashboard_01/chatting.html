<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="images/logo_ball_160.png">

    <title>여놀_Dashboard</title>
</head>

<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <a href="/" class="logo">
            <img src="/images/logo_ball_300.png" alt="로고">
            <div class="logo-name">
                YEO<span>NOL</span>
            </div>
        </a>
        <ul class="side-menu">
            <li><a href="/"><i class='bx bxs-dashboard'></i>대쉬보드</a></li>
            <li><a href="sp_users.html"><i class='bx bxs-group'></i>유저관리</a></li>
            <li class="active"><a href="chatting.html"><i class='bx bxs-message-square-dots'></i>채팅관리</a></li>
            <li><a href="party.html"><i class='bx bxs-party'></i>파티관리</a></li>
            <li><a href="shorts_gram.html"><i class='bx bxs-video-recording'></i>쇼츠&그램</a></li>
            <li><a href="sales.html"><i class='bx bxs-coin-stack'></i>매출관리</a></li>
            <li><a href="coupon.html"><i class='bx bxs-coupon'></i>쿠폰관리</a></li>
            <li><a href="push.html"><i class='bx bxs-down-arrow-circle'></i>푸쉬관리</a></li>
            <li><a href="announcement.html"><i class='bx bxs-edit-alt'></i>공지관리</a></li>
            <li><a href="report.html"><i class='bx bxs-no-entry'></i>신고관리</a></li>
            <li><a href="guide.html"><i class='bx bxs-book-open'></i>여놀가이드</a></li>
        </ul>
        <ul class="side-menu">
            <li>
                <a href="#" class="logout" onclick="handleLogout()">
                    <i class='bx bx-log-out-circle'></i>
                    Logout
                </a>
            </li>
        </ul>
    </div>
    <!-- End of Sidebar -->

    <!-- Main Content -->
    <div class="content">
        <!-- Navbar -->
        <nav>
            <i class='bx bx-menu'></i>
            <form action="#" onsubmit="return handleSearch(event)">
                <div class="form-input">
                    <input type="search" placeholder="검색어를 입력해주세요">
                    <button class="search-btn" type="submit"><i class='bx bx-search'></i></button>
                </div>
            </form>
            <input type="checkbox" id="theme-toggle" hidden>
            <label for="theme-toggle" class="theme-toggle"></label>
            <a href="#" class="notif">
                <i class='bx bx-bell'></i>
                <span class="count">12</span>
            </a>
            <a href="#" class="profile">
                <img src="./images/avatar/Avatar=14.png">
            </a>
        </nav>

        <!-- End of Navbar -->

        <main>
            <div class="breadcrumb-header">
                <div class="left">
                    <ul class="breadcrumb">
                        <li>
                            <a href="/">HOME</a>
                            <i class='bx bx-chevron-right'></i>
                        </li>
                        <li class="active">
                            <a href="#">채팅관리</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="chat-management">
                <div class="chat-list">
                    <div class="header">
                        <i class='bx bx-message-square-dots'></i>
                        <h3>채팅리스트</h3>

                        <div class="search-box">
                            <input type="text" class="input-search" placeholder="검색어를 입력해주세요">
                            <button class="btn-search" onclick="handleChatSearch()"><i class="bx bx-search"></i></button>
                        </div>
                    </div>

                    <table>
                        <thead>
                            <tr>
                                <th><input type="checkbox" class="all-check" onchange="handleSelectAll(this)"></th>
                                <th class=""><a href="#" onclick="handleSort('number')">번호</a></th>
                                <th class=""><a href="#" onclick="handleSort('user1')">유저1</a></th>
                                <th width="16px"></th>
                                <th class=""><a href="#" onclick="handleSort('user2')">유저2</a></th>
                                <th class=""><a href="#" onclick="handleSort('message')">메세지</a></th>
                                <th class=""><a href="#" onclick="handleSort('time')">매칭 시간</a></th>
                                <th class=""><a href="#" onclick="handleSort('manage')">채팅방관리</a></th>
                            </tr>
                        </thead>
                        <tbody id="chatTableBody">
                            <!-- Table rows will be dynamically added here -->
                        </tbody>
                    </table>
                    <!-- pagination -->
                    <div class="chat-page">
                        <div class="showing-count">
                            <span>Showing:</span>
                            <span id="showingRange">1 - 5</span>
                            <span>of</span>
                            <span id="totalCount">78</span>
                        </div>
                        <ul class="pagination">
                            <li><a href="#"><i class='bx bx-chevrons-left'></i></a></li>
                            <li><a href="#"><i class='bx bx-chevron-left'></i></i></a></li>
                            <li><a href="#">1</a></li>
                            <li class="active"><a href="#">2</a></li>
                            <li><a href="#">3</a></li>
                            <li><a href="#">4</a></li>
                            <li><a href="#">5</a></li>
                            <li><a href="#">6</a></li>
                            <li><a href="#">7</a></li>
                            <li><a href="#">8</a></li>
                            <li><a href="#">9</a></li>
                            <li><a href="#">10</a></li>
                            <li><a href="#"><i class='bx bx-chevron-right'></i></i></a></li>
                            <li><a href="#"><i class='bx bx-chevrons-right'></i></a></li>
                        </ul>
                    </div>
                </div>
                
                <!-- chatting-room  -->
                <div class="chatting-room-wrap">
                    <div class="chat-room">
                        <div class="chat-top">
                            <div class="profile-wrap">
                                <div>
                                    <span class="chat-num" id="currentChatNumber">9852</span>
                                </div>
                                <div class="chat-profile">
                                    <img class="profile-image user-1" src="./images/avatar/Avatar=12.png" alt="">
                                    <div class="text">
                                        <h5 id="currentUser1Name">우리알콩달콩</h5>
                                        <p class="memo" id="currentUser1Memo">인상이 참 좋으싶습니다. 저는 서울에사는 공무원 입니다. 대화하고 싶어요</p>
                                    </div>
                                </div>
                            </div>
                            <div class="hr-2"></div>
                            <div class="icon-right">
                                <i class="material-icons" onclick="refreshChat()">cached</i>
                                <i class="material-icons" onclick="toggleChatView()">message</i>
                                <i class="material-icons" onclick="showChatMenu()">menu</i>
                            </div>
                        </div>

                        <div class="hr"></div>
                        <div class="chat-panel" id="chatPanel">
                            <!-- Chat messages will be dynamically added here -->
                        </div>
                        <div class="hr bottom"></div>
                        <div class="chat-box-wrap">
                            <div class="chat-box-tray">
                                <i class="material-icons">sentiment_very_satisfied</i>
                                <input type="text" placeholder="메세지를 입력해주세요" onkeypress="handleMessageInput(event)">
                                <i class="material-icons">mic</i>
                                <i class="material-icons" onclick="sendMessage()">send</i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>     
            <div class="footer-bottom">
                <div class="copyright">
                    <span>Copyright</span>
                    <span>&copy;</span>
                    <span><a href="#">ILMARE</a> </span>
                    <span>2025 YEONOL</span>
                </div>
                <div class="version">v1.4.2</div>
            </div>
        </main>
    </div>

    <script src="js/script.js"></script>
    <script src="js/chatting.js"></script>
</body>

</html>