<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<!-- Meta -->
		<meta name="description" content="여놀 플랫폼 관리자 페이지">
		<meta name="author" content="주식회사 일마레">
		<link rel="icon" href="/img/icon_fav.png" type="image/x-icon">
		<title>여놀 - 쿠폰관리</title>

    <!-- Common Css Files -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="fonts/style.css">
    <link rel="stylesheet" href="css/main.css">

    <!-- Vendor Css Files -->
    <link rel="stylesheet" href="vendor/datatables/dataTables.bs4.css" />
    <link rel="stylesheet" href="vendor/datatables/dataTables.bs4-custom.css" />
    <link href="vendor/datatables/buttons.bs.css" rel="stylesheet" />

    <!-- DateRangePicker CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    
	</head>

	<body>
		<!-- Page wrapper start -->
		<div class="page-wrapper">
			
      <!-- Sidebar wrapper start -->
			<nav id="sidebar" class="sidebar-wrapper">

				<!-- Sidebar brand start  -->
				<div class="sidebar-brand">
					
					<a href="index.html" class="logo">
						<img src="img/icon_fav.png" alt="YEONOL Admin Dashboard" />
						<div class="admin-user-info">
							<span class="admin-user-text">YeoNol</span>
							<span class="admin-user-email">budlpilip@gmail.com</span>
						</div>
					</a>
				</div>
				<!-- Sidebar brand end  -->

				<!-- Sidebar search start -->
				<div class="sidebar-search">
					<input type="text" class="search-query" placeholder="검색어를 입력해주세요.">
					<i class="icon-search1 icon1"></i>
					<i class="icon-search1 icon2"></i>
				</div>
				<div class="sidebar-hr">
					<div class="hr-bar"></div>
				</div>

				<!-- Sidebar search end -->
	
				<!-- Sidebar content start -->
				<div class="sidebar-content">

					<!-- sidebar menu start -->
					<div class="sidebar-menu">
						<ul>
							<li>
								<a href="index.html">
									<i class="icon-devices_other"></i>
									<span class="menu-text">대쉬보드</span>
								</a>
							</li>

							<li>
								<a href="user-list.html">
									<i class="icon-users"></i>
									<span class="menu-text">유저관리</span>
								</a>
								
							</li>
							
							<li>
								<a href="chat.html">
									<i class="icon-message-circle"></i>
									<span class="menu-text">채팅관리</span>
								</a>
							</li>
							
							<li>
								<a href="party.html">
									<i class="icon-toys"></i>
									<span class="menu-text">파티관리</span>
								</a>
							</li>
							
							<li class="sidebar-dropdown">
								<a href="#">
									<i class="icon-film"></i>
									<span class="menu-text">컨텐츠관리</span>
								</a>
								<div class="sidebar-submenu">
									<ul>
										<li class="current-page">
											<a href="content-shorts.html">쇼츠(영상)</a>
										</li>
										<li>
											<a href="content-photo.html">일상(사진)</a>
										</li>
										<li>
											<a href="content-audio.html">오디오(음성)</a>
										</li>
									</ul>
							</li>
							
							<li>
								<a href="sales-all.html">
									<i class="icon-database"></i>
									<span class="menu-text">매출관리</span>
								</a>
							</li>

							<li class="active">
								<a href="coupon.html">
									<i class="icon-grid"></i>
									<span class="menu-text">쿠폰관리</span>
								</a>
							</li>
							
							<li>
								<a href="push.html">
									<i class="icon-bell"></i>
									<span class="menu-text">알림관리</span>
								</a>
							</li>

							<li>
								<a href="report.html">
									<i class="icon-minus-circle"></i>
									<span class="menu-text">신고관리</span>
								</a>
							</li>
							
							<li>
								<a href="admin-board.html">
									<i class="icon-edit1"></i>
									<span class="menu-text">관리자게시판</span>
								</a>
								
							</li>
						</ul>
						<div class="sidebar-hr">
							<div class="hr-bar"></div>
						</div>
						<div class="sidebar-menu-bottom">
							<a href="/">
								<i class="icon-log-in"></i>
								<span class="menu-text">로그아웃</span>
							</a>
							<div class="version-wrapper">
								<span class="menu-version">ver.</span>
								<span class="menu-version">2.34</span>
							</div>
						</div>
					</div>
					<!-- sidebar menu end -->
				</div>
				<!-- Sidebar content end -->
				
			</nav>
			<!-- Sidebar wrapper end -->

			<!-- Page content start  -->
			<div class="page-content">

				
				<!-- Header start -->
				<header class="header">
					<div class="toggle-btns">
						<a id="toggle-sidebar" href="#">
							<i class="icon-list"></i>
						</a>
						<a id="pin-sidebar" href="#">
							<i class="icon-list"></i>
						</a>
					</div>
					<div class="header-items">
						<!-- Custom search start -->
						<div class="custom-search">
							<input type="text" class="search-query" placeholder="검색어를 입력해주세요.">
							<i class="icon-search1"></i>
						</div>
						<!-- Custom search end -->

						<!-- Header actions start -->
						<ul class="header-actions">
							
							<li class="dropdown">
								<a href="#" id="notifications" data-toggle="dropdown" aria-haspopup="true">
									<i class="icon-bell"></i>
									<span class="count-label">8</span>
								</a>
								<div class="dropdown-menu dropdown-menu-right lrg" aria-labelledby="notifications">
									<div class="dropdown-menu-header">
										새로운 알림 (40)
									</div>
									<ul class="header-notifications">
										<li>
											<a href="#">
												<div class="user-img away">
													<img src="img/user21.png" alt="User">
												</div>
												<div class="details">
													<div class="user-title">바나나킥</div>
													<div class="noti-details">[신고] 바나나킥님이 음란사진 신고하셨습니다.</div>
													<div class="noti-date">25년 12월 12일 오전 10:00</div>
												</div>
											</a>
										</li>
										<li>
											<a href="#">
												<div class="user-img busy">
													<img src="img/user10.png" alt="User">
												</div>
												<div class="details">
													<div class="user-title">아마짱</div>
													<div class="noti-details">[신고] 아마짱님이 음란사진 신고하셨습니다.</div>
													<div class="noti-date">25년 12월 12일 오전 10:00</div>
												</div>
											</a>
										</li>
										<li>
											<a href="#">
												<div class="user-img online">
													<img src="img/user6.png" alt="User">
												</div>
												<div class="details">
													<div class="user-title">사랑뽀</div>
													<div class="noti-details">[문의] 사랑뽀님이 문의하셨습니다.</div>
													<div class="noti-date">25년 12월 12일 오전 10:00</div>
												</div>
											</a>
										</li>
									</ul>
								</div>
							</li>

						</ul>						
						<!-- Header actions end -->
					</div>
				</header>
				<!-- Header end -->

				<!-- Page header start -->
				<div class="page-header">
					<ol class="breadcrumb">
						<li class="breadcrumb-item">Home</li>
						<li class="breadcrumb-item active">쿠폰관리</li>
					</ol>
					<ul class="app-actions">
						<li>
							<a href="#" id="reportrange">
								<i class="icon-calendar"></i>	
								<span class="range-text"></span>
								<i class="icon-chevron-down"></i>	
							</a>
						</li>
					</ul>
				</div>
				<!-- Page header end -->
				
				<!-- Main container start -->
				<div class="main-container">
				<!-- Row start -->
				<div class="row gutters">
					<div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
						
						<!-- Tab navigation start -->
						<ul class="nav nav-tabs" id="couponTabs" role="tablist">
							<li class="nav-item">
								<a class="nav-link active" id="create-tab" data-toggle="tab" href="#create" role="tab">
									쿠폰 만들기
								</a>
							</li>
							
							<li class="nav-item">
								<a class="nav-link" id="users-tab" data-toggle="tab" href="#users" role="tab">
									쿠폰 발송 대상
								</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" id="history-tab" data-toggle="tab" href="#history" role="tab">
									발송 내역
								</a>
							</li>
						</ul>
						<!-- Tab navigation end -->

						<!-- Tab content start -->
						<div class="tab-content coupon-tab-content" id="couponTabContent">
							<!-- 쿠폰 만들기, 리스트 탭 -->
							<div class="tab-pane fade show active" id="create" role="tabpanel">
								<div class="card-01 coupon-create-card">
									<div class="card-body">
										<form id="couponForm">
											<div class="coupon-type-select-wrap">
												<div class="form-group coupon-type-select">
													<label for="couponType">쿠폰 종류</label>
													<select class="form-control" id="couponType" required>
														<option value="">쿠폰 종류를 선택하세요</option>
														<option value="DAILY">매일매일 쿠폰</option>
														<option value="CARD">데일리카드뽑기</option>
														<option value="PROFILE">상세프로필보기</option>
														<option value="LIKE">좋아요</option>
														<option value="SPECIAL_LIKE">스페셜 좋아요 뿌리기</option>
													</select>
												</div>
												<div class="form-group coupon-type-select">
													<label for="validityPeriod">사용 기간</label>
													<select class="form-control" id="validityPeriod" required>
														<option value="">사용 기간을 선택하세요</option>
														<option value="TODAY">당일 사용</option>
														<option value="3M">3개월</option>
														<option value="6M">6개월</option>
														<option value="12M">12개월</option>
													</select>
												</div>
											</div>

											<div class="coupon-type-textarea-wrap">
												<div class="form-group">
													<label for="description">설명</label>
													<textarea class="form-control" id="description" rows="3" placeholder="쿠폰에 대한 설명을 입력하세요"></textarea>
												</div>
												<div class="form-group text-right">
													<button type="button" id="cancelEditBtn" class="btn btn-secondary" style="display: none;">
														<i class="icon-x"></i> 취소
													</button>
													<button type="submit" id="createCouponBtn" class="btn btn-primary">
														<i class="icon-plus"></i> 쿠폰 생성
													</button>
												</div>
											</div>

										</form>
										<div class="table-responsive coupon-tables">
											<table id="couponListTable" class="table custom-table">
												<thead>
													<tr>
														<th>쿠폰번호</th>
														<th>쿠폰 종류</th>
														<th>설명</th>
														<th>생성일시</th>
														<th>만료일시</th>
														<th>상태</th>
														<th>사용량</th>
														<th>관리</th>
													</tr>
												</thead>
												<tbody>
													<!-- 데이터는 JavaScript로 동적 추가됨 -->
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>

							<!-- 쿠폰 발송 대상 탭 -->
							<div class="tab-pane fade" id="users" role="tabpanel">
								<div class="card-01 coupon-user-card">
									<div class="card-body">
										<div class="coupon-user-select-wrap">
											<div class="form-group coupon-user-select">
												<label for="selectCoupon">발송할 쿠폰 선택</label>
												<select class="form-control" id="selectCoupon" required>
													<option value="">쿠폰을 선택하세요</option>
												</select>
											</div>
											<div class="form-group coupon-user-select">
												<label for="targetType">발급 대상</label>
												<select class="form-control" id="targetType" required>
													<option value="">발급 대상을 선택하세요</option>
													<option value="ALL">전체 회원</option>
													<option value="NEW">신규 가입자</option>
													<option value="INACTIVE">휴면 회원</option>
													<option value="GRADE">특정 등급 회원</option>
													<option value="CUSTOM">직접 선택</option>
												</select>
											</div>
										</div>

										<!-- 특정 등급 선택 시 표시될 영역 -->
										<div class="row gutters coupon-user-grade-selection" id="gradeSelection" style="display: none;">
											<div class="col-12">
												<div class="form-group">
													<label>회원 등급 선택</label>
													<div class="custom-controls-stacked">
														<div class="row">
															<div class="col-3">
																<div class="custom-control custom-checkbox">
																	<input type="checkbox" class="custom-control-input grade-checkbox" id="gradeDiamond" value="DIAMOND">
																	<label class="custom-control-label" for="gradeDiamond">다이아몬드</label>
																</div>
															</div>
															<div class="col-3">
																<div class="custom-control custom-checkbox">
																	<input type="checkbox" class="custom-control-input grade-checkbox" id="gradeGold" value="GOLD">
																	<label class="custom-control-label" for="gradeGold">골드</label>
																</div>
															</div>
															<div class="col-3">
																<div class="custom-control custom-checkbox">
																	<input type="checkbox" class="custom-control-input grade-checkbox" id="gradeSilver" value="SILVER">
																	<label class="custom-control-label" for="gradeSilver">실버</label>
																</div>
															</div>
															<div class="col-3">
																<div class="custom-control custom-checkbox">
																	<input type="checkbox" class="custom-control-input grade-checkbox" id="gradeBronze" value="BRONZE">
																	<label class="custom-control-label" for="gradeBronze">브론즈</label>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>

										<!-- 직접 선택 시 표시될 영역 -->
										<div class="row gutters coupon-user-custom-selection" id="customSelection" style="display: none;">
											<div class="col-12">
												<div class="form-group">
													<label>사용자 검색</label>
													<div class="input-group">
														<input type="text" class="form-control" id="userSearch" placeholder="닉네임 또는 ID로 검색">
														<div class="input-group-append">
															<button class="btn btn-outline-secondary" type="button" id="searchBtn">
																<i class="icon-search1"></i> 검색
															</button>
														</div>
													</div>
													<div id="searchResults" class="mt-2"></div>
													<div class="selected-users-container mt-3">
														<label>선택된 사용자 (<span id="selectedUserCount">0</span>명)</label>
														<div id="selectedUsers" class="border p-2" style="min-height: 100px; max-height: 200px; overflow-y: auto;">
														</div>
													</div>
												</div>
											</div>
										</div>

										<!-- 선택된 쿠폰 정보 표시 영역 -->
										<div id="selectedCouponInfo" class="" style="display: none;">
											<div class="alert alert-info">
												<div class="alert-heading">선택된 쿠폰 정보</div>
												<div class="alert-body">
													<div class="alert-item">
														<div class="strong">쿠폰 종류 :</div> <span id="selectedCouponType"></span>
													</div>
													<div class="alert-item">
														<div class="strong">유효 기간 :</div> <span id="selectedCouponValidity"></span>
													</div>
													<div class="alert-item">
														<div class="strong">상태 :</div> <span id="selectedCouponStatus" class="button-item"></span>
													</div>
												</div>
											</div>
										</div>

										<div class="table-responsive coupon-tables">
											<table id="userListTable" class="table custom-table">
												<thead>
													<tr>
														<th>
															<div class="custom-control custom-checkbox">
																<input type="checkbox" class="custom-control-input" id="selectAll">
																<label class="custom-control-label" for="selectAll"></label>
															</div>
														</th>
														<th>유저 ID</th>
														<th>닉네임</th>
														<th>가입일</th>
														<th>최근 접속일</th>
														<th>보유 쿠폰</th>
													</tr>
												</thead>
											</table>
										</div>
										<div class="mt-3">
											<button id="sendCouponBtn" class="btn btn-primary" disabled>
												선택한 유저에게 쿠폰 발송
											</button>
										</div>
									</div>
								</div>
							</div>

							<!-- 발송 내역 탭 -->
							<div class="tab-pane fade" id="history" role="tabpanel">
								<div class="card-01 coupon-history-card">
									<div class="card-body">
										<!-- 기간 설정 필터 추가 -->
										<!-- <div class="date-filter-wrapper mb-4">
											<div class="row align-items-center">
												<div class="col-md-auto">
													<div class="date-filter-label">기간 설정</div>
												</div>
												<div class="col-md-auto">
													<div class="btn-group date-quick-filters" role="group">
														<button type="button" class="btn btn-outline-secondary" data-period="today">오늘</button>
														<button type="button" class="btn btn-outline-secondary" data-period="week">1주일</button>
														<button type="button" class="btn btn-outline-secondary" data-period="month">1개월</button>
														<button type="button" class="btn btn-outline-secondary" data-period="3months">3개월</button>
													</div>
												</div>
												<div class="col-md-auto">
													<div class="date-range-picker">
														<div class="input-group">
															<input type="text" class="form-control" id="historyDateRange" readonly>
															<div class="input-group-append">
																<span class="input-group-text">
																	<i class="icon-calendar"></i>
																</span>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div> -->
										<!-- 테이블 -->
										<div class="table-responsive coupon-tables">
											<table id="historyTable" class="table custom-table">
												<thead>
													<tr>
														<th>쿠폰번호</th>
														<th>쿠폰 종류</th>
														<th>발송일시</th>
														<th>수신자</th>
														<th>상태</th>
														<th>만료일</th>
														<th>사용여부</th>
													</tr>
												</thead>
											</table>
										</div>
									</div>
								</div>
							</div>
						</div>
						<!-- Tab content end -->

					</div>
				</div>
				<!-- Row end -->
					
				<!-- Main container end -->

			</div>
			<!-- Page content end -->

		</div>
		
		<!-- Page wrapper end -->
		<script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    
		<!-- Daterange -->
		<script src="vendor/daterange/daterange.js"></script>
		<script src="vendor/daterange/custom-daterange.js"></script>
		
    <!-- Moment.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    
    <!-- DateRangePicker CDN -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>

    <!-- Vendor Scripts -->
    <script src="vendor/slimscroll/slimscroll.min.js"></script>
    <script src="vendor/slimscroll/custom-scrollbar.js"></script>
    <script src="vendor/datatables/dataTables.min.js"></script>
    <script src="vendor/datatables/dataTables.bootstrap.min.js"></script>
    <script src="vendor/datatables/custom/custom-datatables.js"></script>
    <script src="vendor/datatables/buttons.min.js"></script>
    <script src="vendor/datatables/jszip.min.js"></script>
    <script src="vendor/datatables/html5.min.js"></script>
    <script src="vendor/datatables/buttons.print.min.js"></script>

    <!-- Main JS -->
    <script src="js/main.js"></script>

    <!-- Coupon Management JS -->
    <script src="js/coupon-management.js"></script>
	</body>
</html> 